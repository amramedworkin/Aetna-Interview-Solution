<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="774px" preserveAspectRatio="none" style="width:1000px;height:774px;background:#FFFFFF;" version="1.1" viewBox="0 0 1000 774" width="1000px" zoomAndPan="magnify"><title>11_Integration_Model</title><defs/><g><text fill="#00008B" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="233.6914" x="753.1546" y="18.5645">Aetna Interview Project</text><g class="title" data-source-line="7"><text fill="#000000" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="364.6289" x="311.1086" y="62.1279">11_Integration_Model</text></g><!--cluster API Gateway--><g class="cluster" data-entity="API Gateway" data-source-line="14" data-uid="ent0003" id="cluster_API Gateway"><rect fill="none" height="109" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="150" x="413.76" y="225.0031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="99.8115" x="438.8542" y="239.9982">API Gateway</text></g><!--entity API--><g class="entity" data-entity="API" data-source-line="15" data-uid="ent0004" id="entity_API"><ellipse cx="488.76" cy="289.0031" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.1406" x="437.1897" y="318.9982">REST Interface</text></g><!--entity Client--><g class="entity" data-entity="Client" data-source-line="13" data-uid="ent0002" id="entity_Client"><ellipse cx="488.7655" cy="94.2031" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M488.7655,102.2031 L488.7655,129.2031 M475.7655,110.2031 L501.7655,110.2031 M488.7655,129.2031 L475.7655,144.2031 M488.7655,129.2031 L501.7655,144.2031" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.3311" x="452.6" y="158.6982">Client App</text></g><!--entity APIService--><g class="entity" data-entity="APIService" data-source-line="18" data-uid="ent0005" id="entity_APIService"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="205.2588" x="386.13" y="397.0031"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="571.3888" y="402.0031"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="569.3888" y="404.0031"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="569.3888" y="408.0031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165.2588" x="401.13" y="429.9982">Movie API (Spring Boot)</text></g><!--entity DB--><g class="entity" data-entity="DB" data-source-line="19" data-uid="ent0006" id="entity_DB"><path d="M6,530.7931 C6,520.7931 78.7607,520.7931 78.7607,520.7931 C78.7607,520.7931 151.5215,520.7931 151.5215,530.7931 L151.5215,556.09 C151.5215,566.09 78.7607,566.09 78.7607,566.09 C78.7607,566.09 6,566.09 6,556.09 L6,530.7931" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M6,530.7931 C6,540.7931 78.7607,540.7931 78.7607,540.7931 C78.7607,540.7931 151.5215,540.7931 151.5215,530.7931" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.5215" x="16" y="557.7882">PostgreSQL (RDS)</text></g><!--entity Auth--><g class="entity" data-entity="Auth" data-source-line="20" data-uid="ent0007" id="entity_Auth"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131.3076" x="206.11" y="520.2931"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="317.4176" y="525.2931"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="315.4176" y="527.2931"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="315.4176" y="531.2931"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.3076" x="221.11" y="553.2882">Cognito Auth</text></g><!--entity Ratings--><g class="entity" data-entity="Ratings" data-source-line="21" data-uid="ent0008" id="entity_Ratings"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="232.0898" x="372.72" y="520.2931"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="584.8098" y="525.2931"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="582.8098" y="527.2931"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="582.8098" y="531.2931"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="192.0898" x="387.72" y="553.2882">Rating Aggregation Service</text></g><!--entity Logs--><g class="entity" data-entity="Logs" data-source-line="22" data-uid="ent0009" id="entity_Logs"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="161.4678" x="640.03" y="520.2931"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="781.4978" y="525.2931"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="779.4978" y="527.2931"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="779.4978" y="531.2931"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.4678" x="655.03" y="553.2882">CloudWatch Logs</text></g><!--entity Secrets--><g class="entity" data-entity="Secrets" data-source-line="23" data-uid="ent0010" id="entity_Secrets"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158.166" x="836.68" y="520.2931"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="974.846" y="525.2931"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="972.846" y="527.2931"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="972.846" y="531.2931"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.166" x="851.68" y="553.2882">Secrets Manager</text></g><!--link Client to API--><g class="link" data-entity-1="Client" data-entity-2="API" data-source-line="25" data-uid="lnk11" id="link_Client_API"><path d="M488.76,162.2831 C488.76,201.2231 488.76,253.3831 488.76,274.2231" fill="none" id="Client-to-API" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="488.76,280.2231,492.76,271.2231,488.76,275.2231,484.76,271.2231,488.76,280.2231" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256.4453" x="489.76" y="205.07">REST Calls (GET /movies, /movies/{id})</text></g><!--link API to APIService--><g class="link" data-entity-1="API" data-entity-2="APIService" data-source-line="26" data-uid="lnk12" id="link_API_APIService"><path d="M488.76,297.6931 C488.76,316.8031 488.76,361.0431 488.76,390.5731" fill="none" id="API-to-APIService" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="488.76,396.5731,492.76,387.5731,488.76,391.5731,484.76,387.5731,488.76,396.5731" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.4937" x="489.76" y="363.07">Forward Request</text></g><!--link APIService to Auth--><g class="link" data-entity-1="APIService" data-entity-2="Auth" data-source-line="27" data-uid="lnk13" id="link_APIService_Auth"><path d="M417.33,443.6931 C396.18,451.6931 373.43,461.6431 353.76,473.2931 C331.81,486.2931 314.2376,501.0693 298.5776,515.8193" fill="none" id="APIService-to-Auth" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="294.21,519.9331,303.504,516.6741,297.8497,516.5049,298.0189,510.8506,294.21,519.9331" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.9502" x="354.76" y="486.36">Validate JWT Token</text></g><!--link APIService to DB--><g class="link" data-entity-1="APIService" data-entity-2="DB" data-source-line="28" data-uid="lnk14" id="link_APIService_DB"><path d="M385.75,429.7831 C300.96,438.1931 188.36,452.7231 147.76,473.2931 C126.13,484.2631 110.8647,499.8572 98.3147,515.6372" fill="none" id="APIService-to-DB" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="94.58,520.3331,103.3127,515.779,97.6923,516.4198,97.0515,510.7994,94.58,520.3331" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.3833" x="148.76" y="486.36">Read Movie + Rating Data</text></g><!--link APIService to Ratings--><g class="link" data-entity-1="APIService" data-entity-2="Ratings" data-source-line="29" data-uid="lnk15" id="link_APIService_Ratings"><path d="M488.76,443.6831 C488.76,465.4631 488.76,492.2931 488.76,514.0331" fill="none" id="APIService-to-Ratings" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="488.76,520.0331,492.76,511.0331,488.76,515.0331,484.76,511.0331,488.76,520.0331" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.1577" x="489.76" y="486.36">Aggregate Ratings</text></g><!--link APIService to Secrets--><g class="link" data-entity-1="APIService" data-entity-2="Secrets" data-source-line="30" data-uid="lnk16" id="link_APIService_Secrets"><path d="M591.8,431.1431 C649.88,438.7631 723.14,451.7531 785.76,473.2931 C819.6,484.9431 850.1761,501.4177 875.5861,516.7877" fill="none" id="APIService-to-Secrets" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="880.72,519.8931,875.0894,511.8125,876.4418,517.3053,870.9489,518.6576,880.72,519.8931" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.1221" x="824.76" y="486.36">Fetch DB Credentials</text></g><!--link APIService to Logs--><g class="link" data-entity-1="APIService" data-entity-2="Logs" data-source-line="31" data-uid="lnk17" id="link_APIService_Logs"><path d="M553.67,443.7131 C575.17,452.0431 598.91,462.1831 619.76,473.2931 C645.27,486.8831 667.3559,501.9855 686.9759,516.4955" fill="none" id="APIService-to-Logs" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="691.8,520.0631,686.9423,511.4956,687.7799,517.0901,682.1854,517.9277,691.8,520.0631" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.5303" x="647.76" y="486.36">Emit Logs &amp; Metrics</text></g><g class="legend" data-source-line="33"><rect fill="none" height="160.6719" rx="7.5" ry="7.5" style="stroke:#FFFFFF;stroke-width:1;" width="666.4141" x="160.216" y="594.09"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="36.292" x="170.09" y="614.0851">Step</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="50.21" x="216.13" y="614.0851">Action</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="90.2412" x="587.1847" y="614.0851">Component</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8.9072" x="169.6662" y="630.382">1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="326.3613" x="215.7062" y="630.382">Client sends HTTP GET request with JWT token</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181.4053" x="586.7609" y="630.382">Client App &#8594; API Gateway</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8.9072" x="169.6662" y="646.6789">2</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="300.5215" x="215.7062" y="646.6789">API Gateway routes request to ECS service</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.4434" x="586.7609" y="646.6789">API Gateway</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8.9072" x="169.6662" y="662.9757">3</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.8047" x="215.7062" y="662.9757">JWT token is validated</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185.8281" x="586.7609" y="662.9757">APIService &#8594; Cognito Auth</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8.9072" x="169.6662" y="679.2726">4</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="246.6885" x="215.7062" y="679.2726">Permissions and roles are enforced</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196.3828" x="586.7609" y="679.2726">Spring Security (APIService)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8.9072" x="169.6662" y="695.5695">5</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="278.0381" x="215.7062" y="695.5695">Service fetches DB credentials securely</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="212.6865" x="586.7609" y="695.5695">APIService &#8594; Secrets Manager</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8.9072" x="169.6662" y="711.8664">6</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229.7764" x="215.7062" y="711.8664">Movie and ratings data retrieved</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="220.042" x="586.7609" y="711.8664">APIService &#8594; PostgreSQL (RDS)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8.9072" x="169.6662" y="728.1632">7</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="331.0029" x="215.7062" y="728.1632">Rating is aggregated and attached to response</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="230.4189" x="586.7609" y="728.1632">APIService &#8594; Rating Aggregation</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8.9072" x="169.6662" y="744.4601">8</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="297.6914" x="215.7062" y="744.4601">Logs and metrics emitted for observability</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="215.9883" x="586.7609" y="744.4601">APIService &#8594; CloudWatch Logs</text><line style="stroke:#000000;stroke-width:1;" x1="165.216" x2="821.63" y1="601.09" y2="601.09"/><line style="stroke:#000000;stroke-width:1;" x1="165.216" x2="821.63" y1="617.3869" y2="617.3869"/><line style="stroke:#000000;stroke-width:1;" x1="165.216" x2="821.63" y1="633.6837" y2="633.6837"/><line style="stroke:#000000;stroke-width:1;" x1="165.216" x2="821.63" y1="649.9806" y2="649.9806"/><line style="stroke:#000000;stroke-width:1;" x1="165.216" x2="821.63" y1="666.2775" y2="666.2775"/><line style="stroke:#000000;stroke-width:1;" x1="165.216" x2="821.63" y1="682.5744" y2="682.5744"/><line style="stroke:#000000;stroke-width:1;" x1="165.216" x2="821.63" y1="698.8712" y2="698.8712"/><line style="stroke:#000000;stroke-width:1;" x1="165.216" x2="821.63" y1="715.1681" y2="715.1681"/><line style="stroke:#000000;stroke-width:1;" x1="165.216" x2="821.63" y1="731.465" y2="731.465"/><line style="stroke:#000000;stroke-width:1;" x1="165.216" x2="821.63" y1="747.7619" y2="747.7619"/><line style="stroke:#000000;stroke-width:1;" x1="165.216" x2="165.216" y1="601.09" y2="747.7619"/><line style="stroke:#000000;stroke-width:1;" x1="211.256" x2="211.256" y1="601.09" y2="747.7619"/><line style="stroke:#000000;stroke-width:1;" x1="582.3107" x2="582.3107" y1="601.09" y2="747.7619"/><line style="stroke:#000000;stroke-width:1;" x1="821.63" x2="821.63" y1="601.09" y2="747.7619"/></g><!--SRC=[bLJRRXen47ttLuoeL8ZQABTUeagjn2rDgY1H5ZMFaTcTB2wBJMqJH9EyzWFwYVsIZYyB6o2DQXxmscVcp9oPSHtwMdt7r0AN6Go5BH3EaMUecPa8EUEQJ-F1cP8s4JyHZWztthLLeJIyEAHrsc9ZVmvDj9B3XRIeRmKkIZPMyM0TwShvoI7p1t1qTEtCSisjKFAwfp8i6Aj3ZqyGx1YXm1nbTc3vYD25oCVsKT2N_hh5qqckrLncCRopO_S3g0SJ8F_BRIkbAVXeqVOBmgg3cOzSU2CFOOodba2rTY5GMcZEPZNW1i8dqvGgbpd1Qyt-1Npc5XTyMOCxvdm9fyeDJ-bsq4s6GINtxLsG0NjWB5NJcPBETwsdI49t3erafeNCeQMKtIlHYPCuHPPnaeGRyjfNnkOQaw-Nq1Xqae3ijAe-sogNmYfepkquEA9D5J0W-OcfcPEZt9S28f67Xslpo6MXvjaLj-aOBbLkFCnjgfW4KutMK34bpr5xJ3nZB6gvl__99_i1l3fjNXG66f-xGpYOEYNCwt9pS2UoXptcmD4eXaYsPqelkCvWW3_cQ2ohN7eifKkeRxmGf1l2bwiX3DK4vIQmqtA1K5D3ACEhc3fqIEvDS5I5B4hTSANK1hHKWY959ndnj3Lc983WnHRQwKZGxbJOi7y9FRHQf2HRc0TgJ6lLbDr_XCJY3EY_cVgo_TSYi_QgN3kksJqSXLtiTJ14Rk1yEEo3gv4EUiD2aC1ELUjKNJk0zSJ0dr-_eJ8VAuRZ2AtUqInRD2ltrBhTTaBaGQDgY5ikjp8uYS1rUCB0RMo5x3c5gdtcCgYEKidm9aBxgAV262g3yG-jLWKbmJK2oXkbqvrizn37d7faheLTGcDDkUVzlos1COuRrqFeXXpITHUHFEG0Y-Kp6MnCfMTu5w6XwttiiRdTEqDreEx3soVKscBOV94Sm_i8ZVD49U3bq6IUa5lBAQlC5LkZeQOq-2J3ZlVAaPn6j1yQvtGQnWQGHiaHKHL0ZLmVyP4edDZ_AlNZ9uuOgFd3_Fq5]--></g></svg>